<!DOCTYPE html>
<html lang="es">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Teleprompter Pro</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

<style>

body{
margin:0;
background:black;
color:white;
font-family:'Inter',sans-serif;
text-align:center;
}

/* ZONA TELEPROMPTER */

#pantalla{
position:fixed;
top:5%;
left:50%;
transform:translateX(-50%);
width:90%;
height:75%;
overflow:hidden;
border-radius:10px;
}

/* TEXTO */

#textoTeleprompter{
position:absolute;
width:80%;
left:10%;
bottom:-100%;

font-size:40px;
line-height:1.4;
text-align:center;
}

/* CONTROLES */

.controles{
position:fixed;
bottom:0;
width:100%;
background:#111;
padding:10px;
}

/* AREA TEXTO */

textarea{

width:90%;
height:100px;

font-size:18px;

border-radius:10px;

padding:10px;

margin-bottom:10px;

}

/* BOTONES */

button{

padding:10px 20px;

margin:5px;

border-radius:8px;

border:none;

background:#007bff;

color:white;

font-size:16px;

cursor:pointer;

}

button:hover{
background:#0056b3;
}

/* SLIDERS */

input[type=range]{
width:200px;
}

label{
font-size:14px;
margin:5px;
display:block;
}

video{
margin-top:10px;
width:80%;
}

</style>

</head>

<body>

<div id="pantalla">

<div id="textoTeleprompter">

Texto de prueba

</div>

</div>



<div class="controles">

<textarea id="entradaTexto" placeholder="Pega aquí tu texto listo para grabar..."></textarea>

<br>

<button onclick="mostrarTexto()">Mostrar</button>

<button onclick="borrarTexto()">Borrar</button>

<button onclick="guardarTexto()">Guardar</button>

<button onclick="cargarTexto()">Cargar</button>

<br>

<label>

Velocidad

<input type="range" id="velocidad" min="1" max="10" value="5">

</label>


<label>

Tamaño letra

<input type="range" id="tamano" min="20" max="80" value="40">

</label>

<br>

<button onclick="iniciarGrabacion()">Grabar</button>

<button onclick="detenerGrabacion()">Stop</button>

<br>

<video id="videoPreview" controls></video>

</div>

<script>

/* TEXTO */

let textoDiv = document.getElementById("textoTeleprompter");

let intervalo;

/* MOSTRAR TEXTO */

function mostrarTexto(){

let texto = document.getElementById("entradaTexto").value;

textoDiv.innerHTML = texto.replace(/\n/g,"<br>");

textoDiv.style.bottom="-100%";

let velocidad = document.getElementById("velocidad").value;

clearInterval(intervalo);

intervalo=setInterval(()=>{

let actual=parseFloat(textoDiv.style.bottom);

textoDiv.style.bottom=(actual+0.1*velocidad)+"%";

},50);

}


/* BORRAR */

function borrarTexto(){

if(confirm("¿Borrar texto?")){

document.getElementById("entradaTexto").value="";
textoDiv.innerHTML="";

}

}


/* GUARDAR */

function guardarTexto(){

localStorage.setItem("teleprompterTexto",
document.getElementById("entradaTexto").value);

alert("Texto guardado");

}


/* CARGAR */

function cargarTexto(){

document.getElementById("entradaTexto").value=
localStorage.getItem("teleprompterTexto") || "";

}



/* TAMAÑO */

document.getElementById("tamano").oninput=function(){

textoDiv.style.fontSize=this.value+"px";

}



/* GRABACION */

let mediaRecorder;

let chunks=[];

async function iniciarGrabacion(){

let stream = await navigator.mediaDevices.getUserMedia({

video:true,
audio:true

});

mediaRecorder=new MediaRecorder(stream);

mediaRecorder.ondataavailable=e=>chunks.push(e.data);

mediaRecorder.onstop=e=>{

let blob=new Blob(chunks,{type:"video/webm"});

let url=URL.createObjectURL(blob);

document.getElementById("videoPreview").src=url;

chunks=[];

if(confirm("¿Guardar video?")){

let a=document.createElement("a");

a.href=url;

a.download="video.webm";

a.click();

}

}

mediaRecorder.start();

alert("Grabando...");

}



/* STOP */

function detenerGrabacion(){

if(mediaRecorder){

mediaRecorder.stop();

}

}

</script>

</body>
</html>
