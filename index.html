<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Teleprompter PRO</title>

<style>

body{
margin:0;
background:black;
color:white;
font-family:Arial;
overflow:hidden;
}


/* VIDEO */

video{

position:fixed;
width:100%;
height:100%;
object-fit:cover;

z-index:1;

}


/* PROMPTER */

#prompterBox{

position:fixed;

left:50%;

transform:translateX(-50%);

top:8%;

width:60%;

height:230px;

overflow:hidden;

z-index:3;

pointer-events:none;

}


/* FADE */

.fadeTop{

position:absolute;
top:0;
width:100%;
height:60px;
background:linear-gradient(black,transparent);

}


.fadeBottom{

position:absolute;
bottom:0;
width:100%;
height:60px;
background:linear-gradient(transparent,black);

}



/* TEXTO */

#scrollText{

position:absolute;

width:100%;

text-align:center;

font-size:42px;

line-height:70px;

font-weight:600;

}



/* PANEL */

#panel{

position:fixed;

bottom:20px;

width:100%;

text-align:center;

z-index:6;

}



/* BOTONES */

.btn{

padding:12px 20px;

margin:5px;

border-radius:12px;

border:none;

background:#1e88e5;

color:white;

font-size:18px;

}


.stopBtn{

background:red;

}



/* TEXTO AREA */

#editor{

position:fixed;

top:0;

width:100%;

height:80px;

z-index:7;

font-size:18px;

padding:10px;

border:none;

outline:none;

}



/* SLIDERS */

.sliders{

margin-top:10px;

}



input[type=range]{

width:200px;

}



/* SLIDER VERTICAL */

.vertical{

position:fixed;

right:10px;

top:120px;

height:300px;

z-index:8;

}


.vertical input{

transform:rotate(270deg);

width:300px;

}



/* VIDEO PLAYER */

#player{

position:fixed;

top:0;
left:0;

width:100%;
height:100%;

background:black;

display:none;

z-index:20;

}


</style>

</head>

<body>


<textarea id="editor"
placeholder="Pega aquí tu texto listo para grabar">
</textarea>


<video id="video" autoplay muted playsinline></video>



<div id="prompterBox">

<div class="fadeTop"></div>

<div id="scrollText"></div>

<div class="fadeBottom"></div>

</div>



<div id="panel">


<button class="btn" onclick="mostrar()">

Mostrar

</button>


<button class="btn" onclick="borrar()">

Borrar

</button>


<button class="btn" onclick="grabar()">

Grabar

</button>


<button class="btn stopBtn"
id="stopBtn"
onclick="detener()"
style="display:none">

STOP

</button>



<div class="sliders" id="sliders">


Velocidad

<input id="velocidad"

type="range"

min="0.2"

max="2"

step="0.1"

value="0.6">



Tamaño

<input id="tamano"

type="range"

min="30"

max="80"

value="42">



Altura

<input id="altura"

type="range"

min="0"

max="100"

value="10">


</div>

</div>



<!-- SLIDER AJUSTE TEXTO -->

<div class="vertical" id="sliderTexto">


<input id="ancho"

type="range"

min="40"

max="95"

value="60">

</div>



<!-- PLAYER -->

<video id="player" controls></video>




<script>


let video=document.getElementById("video");

let stream;

navigator.mediaDevices.getUserMedia({

video:true,
audio:true

})

.then(s=>{

stream=s;

video.srcObject=s;

});


let y=0;
let corriendo=false;

let mediaRecorder;
let chunks=[];


/* MOSTRAR */

function mostrar(){

let texto=editor.value;

scrollText.innerText=texto;

y=300;

scrollText.style.top=y+"px";

}



/* BORRAR */

function borrar(){

editor.value="";
scrollText.innerText="";

}


/* SCROLL */

function animar(){

if(!corriendo) return;


let velocidad=

velocidadInput.value;


y-=velocidad;

scrollText.style.top=y+"px";


requestAnimationFrame(animar);

}



/* GRABAR */

function grabar(){

corriendo=true;

animar();


sliders.style.display="none";

sliderTexto.style.display="none";

editor.style.display="none";


stopBtn.style.display="inline-block";


chunks=[];


mediaRecorder=

new MediaRecorder(stream);


mediaRecorder.ondataavailable=e=>{

chunks.push(e.data);

};



mediaRecorder.onstop=e=>{


let blob=

new Blob(chunks,

{type:"video/webm"});


let url=

URL.createObjectURL(blob);


player.src=url;

player.style.display="block";

player.play();

};


mediaRecorder.start();

}



/* STOP */

function detener(){

corriendo=false;

mediaRecorder.stop();


stopBtn.style.display="none";

sliders.style.display="block";

sliderTexto.style.display="block";

editor.style.display="block";

}



/* SLIDERS */

let velocidadInput=document.getElementById("velocidad");


setInterval(()=>{


scrollText.style.fontSize=

tamano.value+"px";


prompterBox.style.top=

altura.value+"%";


prompterBox.style.width=

ancho.value+"%";


},200);



</script>

</body>
</html>
