<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Teleprompter TuPlan</title>

<style>

body{
margin:0;
background:black;
color:white;
font-family:Arial,Helvetica,sans-serif;
overflow:hidden;
}

/* VIDEO */

video{
position:fixed;
width:100%;
height:100%;
object-fit:cover;
z-index:1;
}


/* TEXTO PROMPTER */

#prompterBox{

position:fixed;

left:50%;
transform:translateX(-50%);

width:70%;

top:10%;

height:220px;

overflow:hidden;

z-index:3;

pointer-events:none;

}

/* FADE SUPERIOR */

.fadeTop{

position:absolute;
top:0;
width:100%;
height:50px;

background:linear-gradient(
to bottom,
black,
transparent);

z-index:5;
}

/* FADE INFERIOR */

.fadeBottom{

position:absolute;
bottom:0;
width:100%;
height:50px;

background:linear-gradient(
to top,
black,
transparent);

z-index:5;
}


/* TEXTO SCROLL */

#scrollText{

position:absolute;

width:100%;

text-align:center;

font-size:36px;

line-height:70px;

}


/* PANEL */

#panel{

position:fixed;

bottom:10px;

width:100%;

text-align:center;

z-index:6;

}


/* BOTONES */

.btn{

padding:10px 16px;

margin:4px;

border-radius:10px;

border:none;

background:#1e88e5;

color:white;

font-size:16px;

}

.btn:active{

background:#0d47a1;

}


/* TEXTO AREA */

#editor{

position:fixed;

top:0;

width:100%;

height:90px;

z-index:7;

font-size:16px;

padding:10px;

border:none;

outline:none;

}


/* SLIDERS */

.sliders{

margin-top:5px;

}


input[type=range]{

width:150px;

}


</style>

</head>

<body>



<textarea id="editor"
placeholder="Pega aquí tu texto listo para grabar...">
</textarea>



<video id="video" autoplay muted playsinline></video>



<div id="prompterBox">

<div class="fadeTop"></div>

<div id="scrollText"></div>

<div class="fadeBottom"></div>

</div>



<div id="panel">


<button class="btn" onclick="mostrar()">

Mostrar

</button>


<button class="btn" onclick="borrar()">

Borrar

</button>



<button class="btn" onclick="grabar()">

REC

</button>



<button class="btn" onclick="detener()">

STOP

</button>



<div class="sliders">


Velocidad

<input id="velocidad"

type="range"

min="0.2"

max="2"

step="0.1"

value="0.6">



Tamaño

<input id="tamano"

type="range"

min="24"

max="70"

value="36">



Altura

<input id="altura"

type="range"

min="0"

max="100"

value="20">



Ancho

<input id="ancho"

type="range"

min="40"

max="95"

value="70">



</div>

</div>



<script>


let video=document.getElementById("video");

navigator.mediaDevices.getUserMedia({

video:true,
audio:true

})

.then(stream=>{

video.srcObject=stream;

mediaStream=stream;

});



let y=0;

let corriendo=false;

let mediaRecorder;

let chunks=[];


/* MOSTRAR TEXTO */

function mostrar(){

let texto=document.getElementById("editor").value;

document.getElementById("scrollText").innerText=texto;

y=300;

scrollText.style.top=y+"px";

}


/* BORRAR */

function borrar(){

editor.value="";

scrollText.innerText="";

}


/* SCROLL REAL */

function animar(){

if(!corriendo) return;


let velocidad=

document.getElementById("velocidad").value;


y-=velocidad;

scrollText.style.top=y+"px";


requestAnimationFrame(animar);

}


/* GRABAR */

function grabar(){

corriendo=true;

animar();


chunks=[];


let recorderStream=

video.srcObject;


mediaRecorder=

new MediaRecorder(recorderStream);


mediaRecorder.ondataavailable=e=>{

chunks.push(e.data);

};


mediaRecorder.onstop=e=>{


let blob=

new Blob(chunks,

{type:"video/webm"});


let url=

URL.createObjectURL(blob);


if(confirm("Guardar video?")){

let a=document.createElement("a");

a.href=url;

a.download="video.webm";

a.click();

}

};


mediaRecorder.start();

}



/* STOP */

function detener(){

corriendo=false;

mediaRecorder.stop();

}



/* SLIDERS TIEMPO REAL */

setInterval(()=>{


scrollText.style.fontSize=

tamano.value+"px";


prompterBox.style.width=

ancho.value+"%";


prompterBox.style.top=

altura.value+"%";


},200);


</script>



</body>
</html>
